webpackJsonp([22],{"6/A7":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mtWM"),i=s.n(a),n={name:"Discuss",data:function(){return{show:!1,activeName:"first",discusses:[],input:"",textarea1:"",courseTalkId:"",great:""}},methods:{handleClick:function(){this.show=!this.show},TabhandleClick:function(){console.log(tab,event)},discussId:function(t){console.log(t)},addgreat:function(t){this.discusses[t].great++,this.courseTalkId=this.discusses[t].courseTalkId,this.great=this.discusses[t].great,i()("/course/savegreat",{params:{courseTalkId:this.courseTalkId,great:this.great},method:"post"}).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},release:function(){i()("/course/addtalk",{params:{courseId:localStorage.getItem("courseIndex"),courseTalkTitle:this.input,courseTalkContent:this.textarea1,userId:localStorage.getItem("userId")},method:"post"}).then(function(t){location.reload()}).catch(function(t){console.log(t)})},todiscussInfo:function(t){var e={courseTalkTitle:this.discusses[t].courseTalkTitle,courseTalkNumber:this.discusses[t].courseTalkNumber,userName:this.discusses[t].userName,gmtCreate:this.discusses[t].gmtCreate,great:this.discusses[t].great,userHead:this.discusses[t].userHead,courseTalkContent:this.discusses[t].courseTalkContent};this.$store.commit("updatediscussInfo",e),this.$router.push("tdiscussinfo")}},mounted:function(){var t=this;i()("/course/talk",{params:{courseId:localStorage.getItem("courseIndex")},method:"get"}).then(function(e){console.log(e.data),t.discusses=e.data.data}).catch(function(t){console.log(t)})}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"1100px","margin-left":"15%"},attrs:{id:"discuss"}},[a("el-tabs",{on:{"tab-click":t.TabhandleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"课程讨论",name:"first"}},[a("el-input",{attrs:{placeholder:"新建话题"},nativeOn:{click:function(e){return t.handleClick.apply(null,arguments)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticStyle:{"margin-top":"20px"}},[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.textarea1,callback:function(e){t.textarea1=e},expression:"textarea1"}}),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-plus"}},[t._v("添加附件")]),t._v(" "),a("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-plus"}},[t._v("添加录音")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-check"},on:{click:function(e){return t.release()}}},[t._v("发布")]),t._v(" "),a("el-button",{attrs:{type:"info",plain:"",size:"small",icon:"el-icon-plus"},on:{click:t.handleClick}},[t._v("取消")])],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"80px"}},[a("ul",{staticStyle:{"list-style":"none",width:"100%"}},t._l(t.discusses,function(e,i){return a("li",{staticStyle:{"border-bottom":"1px solid #b3b3b3","padding-bottom":"20px"}},[a("img",{staticStyle:{width:"50px","border-radius":"100%",float:"left"},attrs:{src:s("PvXa")("./"+e.userHead)},on:{click:function(e){return t.discussId(i)}}}),t._v(" "),a("div",{staticStyle:{"margin-left":"100px"}},[a("p",[a("span",{staticStyle:{color:"#7a9e31"}},[t._v(t._s(e.userName)+" ")]),t._v(" "),a("span",{staticStyle:{"font-size":"10px"}},[t._v(t._s(e.gmtCreate))])]),t._v(" "),a("h3",[t._v(t._s(e.courseTalkTitle))]),t._v(" "),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.addgreat(i)}}},[t._v("赞("+t._s(e.great)+")")]),t._v(" "),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.todiscussInfo(i)}}},[t._v("回复")])],1)])}),0)])],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(n,o,!1,function(t){s("EGmH")},"data-v-63ff6a7e",null);e.default=c.exports},EGmH:function(t,e){}});
//# sourceMappingURL=22.08c5e053c3ddc7bf6982.js.map